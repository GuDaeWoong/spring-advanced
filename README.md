# SPRING ADVANCED


## Lv1 코드 개선

### 1. 문제 인식 및 정의
현재 회원가입 서비스 로직은 불필요한 연산을 수행하고 있습니다. 회원 정보 저장 전에 이메일 중복 검증이 제대로 이루어지지 않아, 이미 존재하는 이메일로 회원가입을 시도할 경우에도 비밀번호 인코딩, 사용자 권한(Rule) 삽입 등의 작업이 선행되는 문제가 있습니다. 이는 자원 낭비와 성능 저하로 이어질 수 있습니다.

기존 코드 순서:

1. 비밀번호 인코딩
2. 사용자 권한(Rule) 삽입
3. 이메일 중복 검증 (이메일이 기존에 존재하는 값인지 확인)
4. 사용자 정보를 객체화
5. Repository를 통해 사용자 정보 저장
6. 사용자 정보를 토큰화

### 2. 해결 방안
가장 중요한 개선점은 이메일 중복 검증을 최우선으로 수행하는 것입니다. 서비스 진입 시점에 이메일 중복 여부를 먼저 확인하여, 만약 중복된 이메일이라면 불필요한 다음 단계의 연산을 즉시 중단해야 합니다.

해결된 코드의 예상 순서:

1. 이메일 중복 검증 (가장 먼저 수행)
  -  만약 이메일이 이미 존재한다면, 즉시 회원가입 실패 응답을 반환하고 로직 종료
2. 비밀번호 인코딩
3. 사용자 권한(Rule) 삽입
4. 사용자 정보를 객체화
5. Repository를 통해 사용자 정보 저장
6. 사용자 정보를 토큰화
  
이러한 순서 변경을 통해 이메일 중복 시 발생하는 불필요한 비밀번호 인코딩 및 사용자 권한 삽입 작업을 방지하여 리소스를 효율적으로 사용하고, 전체적인 서비스의 응답 속도를 개선할 수 있습니다.

### 3. 해결 완료
이메일 중복 검증 로직의 위치를 회원가입 서비스 메서드의 가장 앞쪽으로 이동하여 코드의 효율성을 높였습니다. 이를 통해 불필요한 연산을 줄이고, 시스템 자원을 보다 효과적으로 활용할 수 있게 되었습니다.
